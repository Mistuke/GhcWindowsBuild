using THREADS=3
Creating libraries/array/ghc.mk
Creating libraries/base/ghc.mk
Creating libraries/binary/ghc.mk
Creating libraries/bytestring/ghc.mk
Creating libraries/Cabal/Cabal/ghc.mk
Creating libraries/containers/ghc.mk
Creating libraries/deepseq/ghc.mk
Creating libraries/directory/ghc.mk
Creating libraries/filepath/ghc.mk
Creating libraries/ghc-boot/ghc.mk
Creating libraries/ghc-boot-th/ghc.mk
Creating libraries/ghc-compact/ghc.mk
Creating libraries/ghc-heap/ghc.mk
Creating libraries/ghc-prim/ghc.mk
Creating libraries/ghci/ghc.mk
Creating libraries/haskeline/ghc.mk
Creating libraries/hpc/ghc.mk
Creating libraries/integer-gmp/ghc.mk
Creating libraries/integer-simple/ghc.mk
Creating libraries/libiserv/ghc.mk
Creating libraries/mtl/ghc.mk
Creating libraries/parsec/ghc.mk
Creating libraries/pretty/ghc.mk
Creating libraries/process/ghc.mk
Creating libraries/stm/ghc.mk
Creating libraries/template-haskell/ghc.mk
Creating libraries/terminfo/ghc.mk
Creating libraries/text/ghc.mk
Creating libraries/time/ghc.mk
Creating libraries/transformers/ghc.mk
Creating libraries/unix/ghc.mk
Creating libraries/Win32/ghc.mk
Creating libraries/xhtml/ghc.mk
Booting .
Booting libraries/base/
Booting libraries/directory/
Booting libraries/integer-gmp/
Booting libraries/process/
Booting libraries/terminfo/
Booting libraries/time/
Booting libraries/unix/
configure: loading site script /mingw64/etc/config.site
checking for gfind... no
checking for find... /usr/bin/find
checking for sort... /usr/bin/sort
checking for GHC version date... error: object directory /c/TeamCity/buildAgent/work/a45bb99c6f82efd7/.git/objects/C:\TeamCity\buildAgent\system\git\git-B8708990.git\objects does not exist; check .git/objects/info/alternates.
fatal: bad object HEAD
inferred 8.9.0.20190529
checking for GHC Git commit id... inferred a1bf3413f850d0e8a68ecab6ee7f18f18b67ea56
checking for ghc... /mingw64/bin/ghc
checking version of ghc... 8.4.3
GHC path canonicalised to: /mingw64/bin/ghc
checking build system type... x86_64-w64-mingw32
checking host system type... x86_64-w64-mingw32
checking target system type... x86_64-w64-mingw32
Host platform inferred as: x86_64-unknown-mingw32
Target platform inferred as: x86_64-unknown-mingw32
GHC build  : x86_64-unknown-mingw32
GHC host   : x86_64-unknown-mingw32
GHC target : x86_64-unknown-mingw32
LLVM target: x86_64-unknown-windows
checking for path to top of build tree... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7
configure: Checking for Windows toolchain tarballs...
#                                                                          2.1%###                                                                        4.8%#####                                                                      7.5%#######                                                                   10.2%##########                                                                14.5%############                                                              17.8%###############                                                           22.1%###################                                                       26.4%######################                                                    31.3%#########################                                                 35.1%############################                                              39.4%################################                                          44.8%####################################                                      50.7%#######################################                                   55.6%###########################################                               60.9%################################################                          68.0%######################################################                    76.1%############################################################              84.1%##################################################################        92.2%######################################################################    98.2%######################################################################## 100.0%
                                                                           0.5%##                                                                         3.7%###                                                                        5.4%#####                                                                      7.0%######                                                                     8.4%#######                                                                   10.0%#######                                                                   10.8%########                                                                  12.4%##########                                                                14.1%###########                                                               16.0%############                                                              17.8%##############                                                            20.1%###############                                                           21.9%#################                                                         24.0%##################                                                        25.5%###################                                                       26.5%####################                                                      28.6%#####################                                                     30.2%######################                                                    31.2%#######################                                                   32.9%#########################                                                 35.0%##########################                                                37.2%############################                                              39.1%#############################                                             41.2%#############################                                             41.5%###############################                                           43.8%#################################                                         46.2%##################################                                        48.3%####################################                                      50.0%#####################################                                     52.3%#######################################                                   54.3%########################################                                  56.7%##########################################                                58.5%###########################################                               60.8%#############################################                             63.1%##############################################                            65.0%################################################                          67.0%#################################################                         69.2%###################################################                       71.5%#####################################################                     73.8%######################################################                    76.2%########################################################                  78.6%##########################################################                81.1%############################################################              83.6%#############################################################             86.1%##############################################################            86.8%################################################################          89.3%##################################################################        92.0%####################################################################      94.9%######################################################################    98.1%######################################################################## 100.0%
################################################                          67.6%######################################################################## 100.0%
########################                                                  34.3%######################################################################## 100.0%
                                                                           0.8%#########                                                                 12.8%###########################                                               38.8%####################################################                      73.3%######################################################################## 100.0%
                                                                           0.3%#                                                                          2.0%##                                                                         2.9%##                                                                         3.9%###                                                                        4.7%###                                                                        5.4%####                                                                       6.5%#####                                                                      7.5%######                                                                     8.5%######                                                                     9.4%#######                                                                   10.4%########                                                                  11.6%#########                                                                 12.7%#########                                                                 12.7%##########                                                                14.0%##########                                                                15.0%###########                                                               16.4%############                                                              17.3%#############                                                             18.4%##############                                                            19.7%###############                                                           20.9%###############                                                           22.2%################                                                          23.4%#################                                                         24.5%##################                                                        25.7%###################                                                       27.0%####################                                                      28.2%#####################                                                     29.3%######################                                                    30.7%######################                                                    31.8%#######################                                                   32.9%########################                                                  34.1%#########################                                                 35.4%##########################                                                36.4%###########################                                               37.9%############################                                              39.1%#############################                                             40.3%##############################                                            41.7%##############################                                            42.9%###############################                                           44.1%################################                                          45.4%#################################                                         47.0%##################################                                        48.2%###################################                                       49.4%####################################                                      50.9%#####################################                                     52.3%######################################                                    53.7%#######################################                                   55.1%########################################                                  56.6%#########################################                                 58.0%##########################################                                59.4%###########################################                               61.0%#############################################                             62.5%##############################################                            63.9%###############################################                           65.5%################################################                          67.0%#################################################                         68.7%##################################################                        70.3%###################################################                       71.9%#####################################################                     73.7%######################################################                    75.3%#######################################################                   76.8%########################################################                  78.5%#########################################################                 80.3%###########################################################               82.1%############################################################              83.9%#############################################################             85.9%###############################################################           87.8%################################################################          89.6%#################################################################         91.6%###################################################################       93.6%####################################################################      95.7%######################################################################    97.7%#######################################################################   99.9%######################################################################## 100.0%
######################################################################## 100.0%
######################################################################## 100.0%
#######                                                                   10.4%######################################################################## 100.0%
#######                                                                   10.8%##################################################                        70.1%######################################################################    97.9%######################################################################## 100.0%
############                                                              16.9%######################################################################## 100.0%
#########                                                                 12.9%################                                                          22.7%#########################                                                 34.8%#################################                                         46.1%#########################################                                 57.0%#################################################                         68.8%##########################################################                81.9%###################################################################       94.0%######################################################################## 100.0%
############                                                              16.9%######################################################################## 100.0%
###############                                                           21.8%###############################                                           44.0%##################################################                        69.8%###################################################################       93.6%######################################################################## 100.0%
####                                                                       6.5%#################################################                         69.0%######################################################################## 100.0%
####                                                                       5.9%########                                                                  11.8%#################                                                         24.3%########################                                                  34.6%###############################                                           43.4%#####################################                                     52.5%##############################################                            64.9%#####################################################                     74.2%############################################################              84.5%###################################################################       93.9%######################################################################## 100.0%
                                                                           0.0%                                                                           1.2%####                                                                       6.0%########                                                                  12.1%##################                                                        25.5%######################                                                    31.5%#######################################                                   54.5%#################################################                         68.1%#########################################################                 80.4%################################################################          89.5%######################################################################## 100.0%
                                                                           0.5%                                                                           0.9%                                                                           1.4%#                                                                          1.8%#                                                                          2.2%##                                                                         2.8%##                                                                         3.2%##                                                                         3.7%###                                                                        4.3%###                                                                        4.8%###                                                                        5.3%####                                                                       5.8%####                                                                       6.4%####                                                                       6.9%#####                                                                      7.5%#####                                                                      8.0%######                                                                     8.6%######                                                                     9.2%#######                                                                    9.8%#######                                                                   10.4%#######                                                                   11.0%########                                                                  11.7%########                                                                  12.3%#########                                                                 12.9%#########                                                                 13.5%##########                                                                14.3%##########                                                                14.9%###########                                                               15.6%###########                                                               16.3%############                                                              17.0%############                                                              17.7%#############                                                             18.4%#############                                                             19.2%##############                                                            19.9%##############                                                            20.7%###############                                                           21.2%###############                                                           21.9%################                                                          22.8%################                                                          23.6%#################                                                         24.4%##################                                                        25.4%##################                                                        26.3%###################                                                       27.2%####################                                                      28.1%#####################                                                     29.2%#####################                                                     30.1%######################                                                    31.2%#######################                                                   32.2%#######################                                                   33.2%########################                                                  34.3%#########################                                                 35.4%##########################                                                36.5%###########################                                               37.6%###########################                                               38.3%############################                                              39.5%#############################                                             40.4%#############################                                             40.9%##############################                                            42.1%###############################                                           43.4%################################                                          44.7%#################################                                         46.0%##################################                                        47.3%###################################                                       48.7%####################################                                      50.2%#####################################                                     51.7%#####################################                                     51.8%######################################                                    53.3%#######################################                                   54.8%########################################                                  56.3%#########################################                                 57.8%##########################################                                58.5%##########################################                                59.5%###########################################                               61.0%#############################################                             62.6%#############################################                             63.1%##############################################                            64.6%###############################################                           66.2%################################################                          67.9%##################################################                        69.7%###################################################                       71.6%####################################################                      73.4%######################################################                    75.3%#######################################################                   77.3%#########################################################                 79.4%##########################################################                81.4%############################################################              83.5%#############################################################             85.7%###############################################################           87.9%################################################################          90.2%##################################################################        92.5%####################################################################      94.9%######################################################################    97.4%#######################################################################   99.8%######################################################################## 100.0%
######################################################################## 100.0%
###########                                                               16.1%######################################################################## 100.0%
                                                                           0.3%                                                                           0.7%                                                                           1.2%#                                                                          1.7%#                                                                          2.3%##                                                                         3.0%##                                                                         3.8%###                                                                        4.7%####                                                                       5.6%####                                                                       6.5%#####                                                                      7.7%######                                                                     8.9%#######                                                                   10.2%########                                                                  11.7%#########                                                                 13.2%##########                                                                14.8%###########                                                               16.4%############                                                              17.9%##############                                                            19.7%###############                                                           21.6%#################                                                         23.7%##################                                                        25.8%###################                                                       27.6%#####################                                                     29.9%#######################                                                   32.0%########################                                                  34.3%##########################                                                36.8%############################                                              39.0%#############################                                             41.6%################################                                          44.5%##################################                                        47.5%####################################                                      50.5%######################################                                    53.5%########################################                                  56.5%##########################################                                59.5%#############################################                             62.5%###############################################                           65.6%#################################################                         68.6%###################################################                       71.7%#####################################################                     74.8%########################################################                  78.2%##########################################################                81.6%#############################################################             85.2%###############################################################           88.7%##################################################################        92.5%#####################################################################     96.4%######################################################################## 100.0%
                                                                           0.2%                                                                           0.4%                                                                           0.7%                                                                           0.9%                                                                           1.1%                                                                           1.4%#                                                                          1.7%#                                                                          1.9%#                                                                          2.1%#                                                                          2.4%#                                                                          2.6%##                                                                         2.9%##                                                                         3.2%##                                                                         3.5%##                                                                         3.7%##                                                                         4.0%###                                                                        4.3%###                                                                        4.6%###                                                                        4.9%###                                                                        5.2%###                                                                        5.5%####                                                                       5.9%####                                                                       6.2%####                                                                       6.5%####                                                                       6.8%#####                                                                      7.2%#####                                                                      7.5%#####                                                                      7.9%#####                                                                      8.2%######                                                                     8.6%######                                                                     8.9%######                                                                     9.3%######                                                                     9.7%#######                                                                   10.1%#######                                                                   10.5%#######                                                                   10.9%########                                                                  11.3%########                                                                  11.7%########                                                                  12.1%#########                                                                 12.6%#########                                                                 13.0%#########                                                                 13.4%##########                                                                13.9%##########                                                                14.4%##########                                                                14.9%###########                                                               15.4%###########                                                               15.9%###########                                                               16.4%############                                                              16.9%############                                                              17.5%############                                                              18.0%#############                                                             18.6%#############                                                             19.2%##############                                                            19.8%##############                                                            20.4%###############                                                           21.0%###############                                                           21.7%################                                                          22.3%################                                                          23.0%#################                                                         23.7%#################                                                         24.3%##################                                                        25.0%##################                                                        25.7%###################                                                       26.5%###################                                                       27.2%####################                                                      28.0%####################                                                      28.8%#####################                                                     29.6%#####################                                                     30.4%######################                                                    31.3%#######################                                                   32.2%#######################                                                   33.0%########################                                                  34.0%#########################                                                 34.9%#########################                                                 35.8%##########################                                                36.8%###########################                                               37.8%###########################                                               38.8%############################                                              39.8%#############################                                             40.9%##############################                                            41.9%##############################                                            43.0%###############################                                           44.1%################################                                          45.2%#################################                                         46.4%##################################                                        47.6%###################################                                       48.7%###################################                                       49.9%####################################                                      51.2%#####################################                                     52.4%######################################                                    53.7%#######################################                                   55.0%########################################                                  56.3%#########################################                                 57.6%##########################################                                58.9%###########################################                               60.3%###########################################                               60.7%############################################                              61.8%#############################################                             63.1%##############################################                            64.6%###############################################                           66.1%################################################                          67.3%#################################################                         68.8%##################################################                        69.9%##################################################                        70.8%####################################################                      72.4%#####################################################                     74.0%#####################################################                     74.9%######################################################                    75.9%#######################################################                   77.2%########################################################                  78.8%#########################################################                 79.4%##########################################################                81.0%###########################################################               82.4%############################################################              84.3%#############################################################             84.9%##############################################################            86.7%###############################################################           88.1%################################################################          90.0%#################################################################         90.7%##################################################################        92.0%###################################################################       94.1%#####################################################################     96.1%######################################################################    98.2%######################################################################## 100.0%
######################################################################## 100.0%
##################                                                        25.7%######################################################################## 100.0%
########################                                                  33.8%######################################################################## 100.0%
##                                                                         2.8%#############                                                             18.4%###################                                                       27.2%########################                                                  34.7%##############################                                            43.0%#####################################                                     52.0%###########################################                               60.6%##################################################                        69.9%#########################################################                 79.2%###############################################################           88.8%#######################################################################   99.1%######################################################################## 100.0%
configure: Extracting Windows toolchain from archives (may take a while)...
configure: In-tree MingW-w64 tree created
checking for genlib... no
checking for -windres... no
checking for -dllwrap... no
checking for -objdump... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/objdump.exe
checking whether the C compiler works... yes
checking for C compiler default output file name... a.exe
checking for suffix of executables... .exe
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe accepts -g... yes
checking for C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe option to accept ISO C89... none needed
checking how to run the C preprocessor... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe -E
checking for grep that handles long lines and -e... /usr/bin/grep
checking for egrep... /usr/bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking minix/config.h usability... no
checking minix/config.h presence... no
checking for minix/config.h... no
checking whether it is safe to define __EXTENSIONS__... yes
checking how to run the C preprocessor... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe -E
checking for C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe option to accept ISO C99... none needed
checking for C:\\ghc-dev\\msys64\\mingw64\\lib/../mingw/bin/gcc.exe option to accept ISO C99... none needed
checking for C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe option to accept ISO C99... none needed
checking for C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe option to accept ISO C99... none needed
checking for -ld... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ld.exe
checking whether ld is GNU ld... YES
checking whether ld understands --build-id... yes
checking whether ld understands -no_compact_unwind... yes
checking whether ld understands -filelist... no
checking for -objdump... (cached) C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/objdump.exe
checking for ranlib... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ranlib.exe
checking for -strip... no
checking for libtool... /usr/bin/libtool
checking for -clang... no
checking for llc-7.0... no
checking for llc... no
checking for opt-7.0... no
checking for opt... no
configure: Creating links for in-tree file handling routines.
configure: Routines in place. Packages can now be build normally.
checking whether #! works in shell scripts... yes
checking version of gcc... 7.2.0
checking whether GCC supports -no-pie... yes
checking whether GCC supports __atomic_ builtins... yes
checking for extra options to pass gcc when compiling via C...  -fwrapv -fno-builtin
checking whether C compiler is clang... no
checking whether C compiler has an LLVM back end... no
checking Setting up CFLAGS, LDFLAGS, IGNORE_LINKER_LD_FLAGS and CPPFLAGS... done
checking Setting up CONF_CC_OPTS_STAGE0, CONF_GCC_LINKER_OPTS_STAGE0, CONF_LD_LINKER_OPTS_STAGE0 and CONF_CPP_OPTS_STAGE0... done
checking Setting up CONF_CC_OPTS_STAGE1, CONF_GCC_LINKER_OPTS_STAGE1, CONF_LD_LINKER_OPTS_STAGE1 and CONF_CPP_OPTS_STAGE1... done
checking Setting up CONF_CC_OPTS_STAGE2, CONF_GCC_LINKER_OPTS_STAGE2, CONF_LD_LINKER_OPTS_STAGE2 and CONF_CPP_OPTS_STAGE2... done
checking for .subsections_via_symbols... no
checking whether your assembler supports .ident directive... yes
checking for GNU non-executable stack support... no
checking for a working context diff... diff -U 1
checking for a BSD-compatible install... /usr/bin/install -c
checking whether C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ar.exe is GNU ar... yes
checking for ar arguments... q
checking whether C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ar.exe supports @file... yes
checking for ranlib... (cached) C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ranlib.exe
checking whether ln -s works... no, using cp -pR
checking for gsed... no
checking for sed... /usr/bin/sed
checking for time... /usr/bin/time
checking for gnutar... no
checking for gtar... no
checking for tar... /usr/bin/tar
checking for bzip2... /mingw64/bin/bzip2
checking for gzip... /usr/bin/gzip
checking for pxz... no
checking for xz... /mingw64/bin/xz
checking for gpatch... no
checking for patch... /usr/bin/patch
checking for autoreconf... /usr/bin/autoreconf
checking for dtrace... no
checking for HsColour... /usr/local/bin/HsColour
checking for sphinx-build... /mingw64/bin/sphinx-build
checking for version of sphinx-build... Sphinx (sphinx-build) 1.5
./configure: line 11214: test: Sphinx (sphinx-build) 1: integer expression expected
checking for xelatex... no
checking for ghc-pkg matching /mingw64/bin/ghc... /mingw64/bin/ghc-pkg
checking for happy... /usr/local/bin/happy
checking for version of happy... 1.19.5
configure: error: Happy version 1.19.10 or later is required to compile GHC.
