using THREADS=3
Creating libraries/array/ghc.mk
Creating libraries/base/ghc.mk
Creating libraries/binary/ghc.mk
Creating libraries/bytestring/ghc.mk
Creating libraries/Cabal/Cabal/ghc.mk
Creating libraries/containers/ghc.mk
Creating libraries/deepseq/ghc.mk
Creating libraries/directory/ghc.mk
Creating libraries/filepath/ghc.mk
Creating libraries/ghc-boot/ghc.mk
Creating libraries/ghc-boot-th/ghc.mk
Creating libraries/ghc-compact/ghc.mk
Creating libraries/ghc-heap/ghc.mk
Creating libraries/ghc-prim/ghc.mk
Creating libraries/ghci/ghc.mk
Creating libraries/haskeline/ghc.mk
Creating libraries/hpc/ghc.mk
Creating libraries/integer-gmp/ghc.mk
Creating libraries/integer-simple/ghc.mk
Creating libraries/libiserv/ghc.mk
Creating libraries/mtl/ghc.mk
Creating libraries/parsec/ghc.mk
Creating libraries/pretty/ghc.mk
Creating libraries/process/ghc.mk
Creating libraries/stm/ghc.mk
Creating libraries/template-haskell/ghc.mk
Creating libraries/terminfo/ghc.mk
Creating libraries/text/ghc.mk
Creating libraries/time/ghc.mk
Creating libraries/transformers/ghc.mk
Creating libraries/unix/ghc.mk
Creating libraries/Win32/ghc.mk
Creating libraries/xhtml/ghc.mk
Booting .
Booting libraries/base/
Booting libraries/directory/
Booting libraries/integer-gmp/
Booting libraries/process/
Booting libraries/terminfo/
Booting libraries/time/
Booting libraries/unix/
configure: loading site script /mingw64/etc/config.site
checking for gfind... no
checking for find... /usr/bin/find
checking for sort... /usr/bin/sort
checking for GHC version date... error: object directory /c/TeamCity/buildAgent/work/a45bb99c6f82efd7/.git/objects/C:\TeamCity\buildAgent\system\git\git-B8708990.git\objects does not exist; check .git/objects/info/alternates.
fatal: bad object HEAD
inferred 8.9.0.20190514
checking for GHC Git commit id... inferred a416ae26a2e45de3d9a76e94fc22aaa53e9e5b12
checking for ghc... /mingw64/bin/ghc
checking version of ghc... 8.4.3
GHC path canonicalised to: /mingw64/bin/ghc
checking build system type... x86_64-w64-mingw32
checking host system type... x86_64-w64-mingw32
checking target system type... x86_64-w64-mingw32
Host platform inferred as: x86_64-unknown-mingw32
Target platform inferred as: x86_64-unknown-mingw32
GHC build  : x86_64-unknown-mingw32
GHC host   : x86_64-unknown-mingw32
GHC target : x86_64-unknown-mingw32
LLVM target: x86_64-unknown-windows
checking for path to top of build tree... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7
configure: Checking for Windows toolchain tarballs...
##########                                                                14.5%######################################                                    52.9%######################################################################## 100.0%
                                                                           0.1%##                                                                         2.9%###                                                                        5.0%####                                                                       6.5%#####                                                                      7.7%######                                                                     9.5%#######                                                                   11.1%#########                                                                 12.8%##########                                                                14.6%###########                                                               16.4%#############                                                             18.4%##############                                                            20.3%################                                                          22.3%#################                                                         24.3%###################                                                       26.6%####################                                                      28.6%######################                                                    30.8%#######################                                                   32.8%#########################                                                 35.2%##########################                                                37.0%############################                                              39.2%#############################                                             41.3%###############################                                           43.5%################################                                          45.5%##################################                                        47.7%###################################                                       49.8%#####################################                                     51.9%######################################                                    53.9%########################################                                  56.2%#########################################                                 58.3%###########################################                               60.5%#############################################                             63.2%##############################################                            65.0%################################################                          67.2%##################################################                        69.6%###################################################                       71.9%#####################################################                     74.2%#######################################################                   76.6%########################################################                  79.1%##########################################################                81.4%############################################################              83.7%##############################################################            86.2%################################################################          89.0%#################################################################         91.5%###################################################################       94.2%#####################################################################     96.8%#######################################################################   99.7%######################################################################## 100.0%
######################################################################## 100.0%
#######################################################                   76.5%###########################################################               82.6%######################################################################## 100.0%
                                                                           0.1%####                                                                       6.3%##########################                                                36.5%##########################################################                80.6%######################################################################## 100.0%
                                                                           0.5%#                                                                          1.9%##                                                                         2.8%##                                                                         3.7%###                                                                        4.6%###                                                                        5.5%####                                                                       6.5%#####                                                                      7.4%######                                                                     8.5%######                                                                     9.5%#######                                                                   10.7%########                                                                  11.7%#########                                                                 12.9%##########                                                                14.0%##########                                                                15.2%###########                                                               16.4%############                                                              17.6%#############                                                             18.8%##############                                                            20.0%###############                                                           21.2%################                                                          22.4%################                                                          23.6%#################                                                         24.8%##################                                                        26.0%###################                                                       27.2%####################                                                      28.4%#####################                                                     29.6%######################                                                    30.8%#######################                                                   32.0%#######################                                                   33.2%########################                                                  34.4%#########################                                                 35.7%##########################                                                36.9%###########################                                               38.1%############################                                              39.4%#############################                                             40.7%##############################                                            42.0%###############################                                           43.1%###############################                                           44.4%################################                                          45.6%#################################                                         46.0%##################################                                        47.4%###################################                                       49.0%####################################                                      50.1%#####################################                                     51.5%######################################                                    53.0%#######################################                                   54.5%########################################                                  55.9%#########################################                                 57.4%##########################################                                58.9%##########################################                                59.2%###########################################                               60.9%############################################                              62.3%##############################################                            63.9%##############################################                            65.0%###############################################                           66.0%################################################                          67.7%##################################################                        69.6%##################################################                        70.3%####################################################                      72.3%#####################################################                     73.9%######################################################                    76.0%#######################################################                   76.9%#########################################################                 79.2%##########################################################                80.9%###########################################################               83.3%############################################################              84.3%##############################################################            86.9%###############################################################           88.8%#################################################################         91.3%##################################################################        92.6%####################################################################      95.4%######################################################################    97.5%######################################################################## 100.0%
######################################################################## 100.0%
######################################################################## 100.0%
#                                                                          1.5%######################################################################## 100.0%
########                                                                  11.7%##########################################################                80.6%######################################################################## 100.0%
                                                                           0.4%########################################################                  79.1%######################################################################## 100.0%
##                                                                         3.1%########                                                                  12.3%##############                                                            20.4%####################                                                      28.0%#########################                                                 36.0%################################                                          45.6%######################################                                    53.4%#############################################                             62.8%###################################################                       71.3%##########################################################                81.9%#################################################################         91.0%######################################################################## 100.0%
                                                                           0.8%######################################################################## 100.0%
####                                                                       6.2%#################                                                         23.8%#############################                                             40.5%#######################################                                   55.1%###################################################                       71.3%################################################################          89.6%######################################################################## 100.0%
###############################################                           65.7%######################################################################## 100.0%
##                                                                         3.6%#################                                                         24.3%########################                                                  33.4%###############################                                           43.4%#####################################                                     52.2%#############################################                             63.1%####################################################                      72.8%###########################################################               83.3%###################################################################       93.6%######################################################################## 100.0%
#                                                                          1.8%########                                                                  11.7%##################                                                        26.3%#############################                                             41.1%####################################                                      51.3%####################################################                      72.9%##################################################################        91.9%######################################################################## 100.0%
                                                                           0.0%                                                                           0.2%                                                                           0.7%                                                                           1.0%                                                                           1.3%#                                                                          1.7%#                                                                          2.0%#                                                                          2.4%#                                                                          2.7%##                                                                         3.0%##                                                                         3.4%##                                                                         3.8%###                                                                        4.2%###                                                                        4.6%###                                                                        5.0%###                                                                        5.4%####                                                                       5.8%####                                                                       6.3%####                                                                       6.7%#####                                                                      7.2%#####                                                                      7.6%#####                                                                      8.1%######                                                                     8.5%######                                                                     8.9%######                                                                     9.4%#######                                                                    9.9%#######                                                                   10.2%#######                                                                   10.7%########                                                                  11.1%########                                                                  11.6%########                                                                  12.0%########                                                                  12.4%#########                                                                 12.9%#########                                                                 13.3%#########                                                                 13.8%##########                                                                14.2%##########                                                                14.7%##########                                                                15.2%###########                                                               15.7%###########                                                               16.2%###########                                                               16.6%############                                                              17.1%############                                                              17.6%#############                                                             18.1%#############                                                             18.6%#############                                                             19.2%##############                                                            19.7%##############                                                            20.2%##############                                                            20.8%###############                                                           21.3%###############                                                           21.9%################                                                          22.5%################                                                          23.1%#################                                                         23.7%#################                                                         24.3%#################                                                         25.0%##################                                                        25.6%##################                                                        26.3%###################                                                       26.9%###################                                                       27.6%####################                                                      28.3%####################                                                      29.1%#####################                                                     29.8%######################                                                    30.6%######################                                                    31.4%#######################                                                   32.3%#######################                                                   33.1%########################                                                  33.9%#########################                                                 34.8%#########################                                                 35.6%##########################                                                36.5%##########################                                                37.4%###########################                                               38.4%############################                                              39.3%############################                                              40.2%#############################                                             41.2%##############################                                            42.2%###############################                                           43.3%###############################                                           44.4%################################                                          45.4%#################################                                         46.6%##################################                                        47.7%###################################                                       48.9%####################################                                      50.1%####################################                                      51.3%#####################################                                     52.6%######################################                                    53.9%#######################################                                   55.3%########################################                                  56.7%#########################################                                 58.1%##########################################                                59.6%###########################################                               61.1%#############################################                             62.7%#############################################                             62.8%###############################################                           65.8%################################################                          67.4%#################################################                         69.1%###################################################                       71.0%####################################################                      72.6%#####################################################                     74.5%######################################################                    76.4%########################################################                  78.3%#########################################################                 80.2%###########################################################               82.3%############################################################              84.3%##############################################################            86.4%###############################################################           88.6%#################################################################         90.7%##################################################################        93.0%####################################################################      95.2%######################################################################    97.5%#######################################################################   99.8%######################################################################## 100.0%
#                                                                          2.2%######################################################################## 100.0%
############                                                              17.5%######################################################################## 100.0%
#                                                                          1.6%######                                                                     8.6%############                                                              17.2%###################                                                       27.2%#########################                                                 35.9%################################                                          45.1%######################################                                    53.8%#############################################                             62.7%##################################################                        70.4%#######################################################                   77.8%###############################################################           87.6%#####################################################################     97.2%######################################################################## 100.0%
                                                                           0.1%                                                                           0.4%                                                                           0.6%                                                                           0.7%                                                                           0.9%                                                                           1.1%                                                                           1.3%#                                                                          1.5%#                                                                          1.7%#                                                                          1.9%#                                                                          2.2%#                                                                          2.4%#                                                                          2.6%##                                                                         2.9%##                                                                         3.1%##                                                                         3.3%##                                                                         3.6%##                                                                         3.8%##                                                                         4.1%###                                                                        4.3%###                                                                        4.6%###                                                                        4.9%###                                                                        5.1%###                                                                        5.3%###                                                                        5.5%####                                                                       5.8%####                                                                       6.1%####                                                                       6.3%####                                                                       6.5%####                                                                       6.8%#####                                                                      7.0%#####                                                                      7.3%#####                                                                      7.5%#####                                                                      7.8%#####                                                                      8.0%#####                                                                      8.3%######                                                                     8.6%######                                                                     8.8%######                                                                     9.1%######                                                                     9.3%######                                                                     9.6%#######                                                                    9.9%#######                                                                   10.2%#######                                                                   10.6%#######                                                                   10.8%#######                                                                   11.1%########                                                                  11.4%########                                                                  11.7%########                                                                  12.0%########                                                                  12.3%#########                                                                 12.7%#########                                                                 13.0%#########                                                                 13.3%#########                                                                 13.7%##########                                                                14.1%##########                                                                14.4%##########                                                                14.8%##########                                                                15.2%###########                                                               15.6%###########                                                               16.1%###########                                                               16.5%############                                                              16.9%############                                                              17.4%############                                                              17.9%#############                                                             18.4%#############                                                             18.9%#############                                                             19.4%##############                                                            20.0%##############                                                            20.5%###############                                                           21.1%###############                                                           21.7%################                                                          22.4%################                                                          23.0%#################                                                         23.7%#################                                                         24.4%##################                                                        25.1%##################                                                        25.8%###################                                                       26.5%###################                                                       27.3%####################                                                      28.1%####################                                                      28.9%#####################                                                     29.7%######################                                                    30.6%######################                                                    31.5%#######################                                                   32.4%########################                                                  33.4%########################                                                  34.3%#########################                                                 35.4%##########################                                                36.4%###########################                                               37.5%###########################                                               38.6%############################                                              39.8%#############################                                             41.0%##############################                                            42.2%###############################                                           43.5%################################                                          44.7%#################################                                         46.0%#################################                                         46.9%##################################                                        47.5%###################################                                       48.9%###################################                                       49.7%####################################                                      50.4%#####################################                                     51.9%######################################                                    53.4%#######################################                                   54.4%#######################################                                   55.1%########################################                                  56.7%#########################################                                 58.0%##########################################                                58.4%###########################################                               60.2%############################################                              61.9%#############################################                             63.6%#############################################                             63.8%###############################################                           65.6%################################################                          67.4%#################################################                         69.3%###################################################                       71.2%###################################################                       71.5%####################################################                      73.5%######################################################                    75.4%#######################################################                   77.4%#######################################################                   77.7%#########################################################                 79.8%##########################################################                81.8%###########################################################               83.2%############################################################              84.3%##############################################################            86.5%###############################################################           88.6%################################################################          90.2%#################################################################         91.3%###################################################################       93.5%#####################################################################     95.9%######################################################################    97.8%#######################################################################   98.8%######################################################################## 100.0%
######################################################################## 100.0%
####################                                                      28.0%######################################################################## 100.0%
########################                                                  33.8%######################################################################## 100.0%
                                                                           0.3%#####                                                                      7.5%#######                                                                   10.4%###########                                                               15.3%###################                                                       27.4%#############################                                             40.7%######################################                                    53.1%###############################################                           65.9%##########################################################                81.3%##################################################################        92.3%######################################################################## 100.0%
configure: Extracting Windows toolchain from archives (may take a while)...
configure: In-tree MingW-w64 tree created
checking for genlib... no
checking for -windres... no
checking for -dllwrap... no
checking for -objdump... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/objdump.exe
checking whether the C compiler works... yes
checking for C compiler default output file name... a.exe
checking for suffix of executables... .exe
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe accepts -g... yes
checking for C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe option to accept ISO C89... none needed
checking how to run the C preprocessor... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe -E
checking for grep that handles long lines and -e... /usr/bin/grep
checking for egrep... /usr/bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking minix/config.h usability... no
checking minix/config.h presence... no
checking for minix/config.h... no
checking whether it is safe to define __EXTENSIONS__... yes
checking how to run the C preprocessor... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe -E
checking for C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe option to accept ISO C99... none needed
checking for C:\\ghc-dev\\msys64\\mingw64\\lib/../mingw/bin/gcc.exe option to accept ISO C99... none needed
checking for C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe option to accept ISO C99... none needed
checking for C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe option to accept ISO C99... none needed
checking for -ld... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ld.exe
checking whether ld is GNU ld... YES
checking whether ld understands --build-id... yes
checking whether ld understands -no_compact_unwind... yes
checking whether ld understands -filelist... no
checking for -objdump... (cached) C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/objdump.exe
checking for ranlib... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ranlib.exe
checking for -strip... no
checking for libtool... /usr/bin/libtool
checking for -clang... no
checking for llc-7.0... no
checking for llc... no
checking for opt-7.0... no
checking for opt... no
configure: Creating links for in-tree file handling routines.
configure: Routines in place. Packages can now be build normally.
checking whether #! works in shell scripts... yes
checking version of gcc... 7.2.0
checking whether GCC supports -no-pie... yes
checking whether GCC supports __atomic_ builtins... yes
checking for extra options to pass gcc when compiling via C...  -fwrapv -fno-builtin
checking whether C compiler is clang... no
checking whether C compiler has an LLVM back end... no
checking Setting up CFLAGS, LDFLAGS, IGNORE_LINKER_LD_FLAGS and CPPFLAGS... done
checking Setting up CONF_CC_OPTS_STAGE0, CONF_GCC_LINKER_OPTS_STAGE0, CONF_LD_LINKER_OPTS_STAGE0 and CONF_CPP_OPTS_STAGE0... done
checking Setting up CONF_CC_OPTS_STAGE1, CONF_GCC_LINKER_OPTS_STAGE1, CONF_LD_LINKER_OPTS_STAGE1 and CONF_CPP_OPTS_STAGE1... done
checking Setting up CONF_CC_OPTS_STAGE2, CONF_GCC_LINKER_OPTS_STAGE2, CONF_LD_LINKER_OPTS_STAGE2 and CONF_CPP_OPTS_STAGE2... done
checking for .subsections_via_symbols... no
checking whether your assembler supports .ident directive... yes
checking for GNU non-executable stack support... no
checking for a working context diff... diff -U 1
checking for a BSD-compatible install... /usr/bin/install -c
checking whether C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ar.exe is GNU ar... yes
checking for ar arguments... q
checking whether C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ar.exe supports @file... yes
checking for ranlib... (cached) C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ranlib.exe
checking whether ln -s works... no, using cp -pR
checking for gsed... no
checking for sed... /usr/bin/sed
checking for time... /usr/bin/time
checking for gnutar... no
checking for gtar... no
checking for tar... /usr/bin/tar
checking for bzip2... /mingw64/bin/bzip2
checking for gzip... /usr/bin/gzip
checking for pxz... no
checking for xz... /mingw64/bin/xz
checking for gpatch... no
checking for patch... /usr/bin/patch
checking for autoreconf... /usr/bin/autoreconf
checking for dtrace... no
checking for HsColour... /usr/local/bin/HsColour
checking for sphinx-build... /mingw64/bin/sphinx-build
checking for version of sphinx-build... Sphinx (sphinx-build) 1.5
./configure: line 11214: test: Sphinx (sphinx-build) 1: integer expression expected
checking for xelatex... no
checking for ghc-pkg matching /mingw64/bin/ghc... /mingw64/bin/ghc-pkg
checking for happy... /usr/local/bin/happy
checking for version of happy... 1.19.5
configure: error: Happy version 1.19.10 or later is required to compile GHC.
