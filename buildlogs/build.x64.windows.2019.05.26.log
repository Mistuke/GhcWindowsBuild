using THREADS=3
Creating libraries/array/ghc.mk
Creating libraries/base/ghc.mk
Creating libraries/binary/ghc.mk
Creating libraries/bytestring/ghc.mk
Creating libraries/Cabal/Cabal/ghc.mk
Creating libraries/containers/ghc.mk
Creating libraries/deepseq/ghc.mk
Creating libraries/directory/ghc.mk
Creating libraries/filepath/ghc.mk
Creating libraries/ghc-boot/ghc.mk
Creating libraries/ghc-boot-th/ghc.mk
Creating libraries/ghc-compact/ghc.mk
Creating libraries/ghc-heap/ghc.mk
Creating libraries/ghc-prim/ghc.mk
Creating libraries/ghci/ghc.mk
Creating libraries/haskeline/ghc.mk
Creating libraries/hpc/ghc.mk
Creating libraries/integer-gmp/ghc.mk
Creating libraries/integer-simple/ghc.mk
Creating libraries/libiserv/ghc.mk
Creating libraries/mtl/ghc.mk
Creating libraries/parsec/ghc.mk
Creating libraries/pretty/ghc.mk
Creating libraries/process/ghc.mk
Creating libraries/stm/ghc.mk
Creating libraries/template-haskell/ghc.mk
Creating libraries/terminfo/ghc.mk
Creating libraries/text/ghc.mk
Creating libraries/time/ghc.mk
Creating libraries/transformers/ghc.mk
Creating libraries/unix/ghc.mk
Creating libraries/Win32/ghc.mk
Creating libraries/xhtml/ghc.mk
Booting .
Booting libraries/base/
Booting libraries/directory/
Booting libraries/integer-gmp/
Booting libraries/process/
Booting libraries/terminfo/
Booting libraries/time/
Booting libraries/unix/
configure: loading site script /mingw64/etc/config.site
checking for gfind... no
checking for find... /usr/bin/find
checking for sort... /usr/bin/sort
checking for GHC version date... error: object directory /c/TeamCity/buildAgent/work/a45bb99c6f82efd7/.git/objects/C:\TeamCity\buildAgent\system\git\git-B8708990.git\objects does not exist; check .git/objects/info/alternates.
fatal: bad object HEAD
inferred 8.9.0.20190525
checking for GHC Git commit id... inferred 9be1749d24211c1a78334692d34be10dbc650371
checking for ghc... /mingw64/bin/ghc
checking version of ghc... 8.4.3
GHC path canonicalised to: /mingw64/bin/ghc
checking build system type... x86_64-w64-mingw32
checking host system type... x86_64-w64-mingw32
checking target system type... x86_64-w64-mingw32
Host platform inferred as: x86_64-unknown-mingw32
Target platform inferred as: x86_64-unknown-mingw32
GHC build  : x86_64-unknown-mingw32
GHC host   : x86_64-unknown-mingw32
GHC target : x86_64-unknown-mingw32
LLVM target: x86_64-unknown-windows
checking for path to top of build tree... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7
configure: Checking for Windows toolchain tarballs...
##                                                                         3.8%#####                                                                      7.0%########                                                                  11.9%############                                                              17.2%#################                                                         23.7%######################                                                    30.7%############################                                              39.4%###################################                                       49.6%###########################################                               59.9%##################################################                        70.7%###########################################################               82.0%##################################################################        92.8%######################################################################## 100.0%
                                                                           0.5%##                                                                         3.7%###                                                                        5.3%####                                                                       6.9%######                                                                     8.5%#######                                                                   10.1%########                                                                  11.8%#########                                                                 13.7%###########                                                               15.6%############                                                              17.5%##############                                                            19.5%###############                                                           21.6%#################                                                         23.7%##################                                                        26.1%####################                                                      28.4%#####################                                                     30.0%#######################                                                   32.1%########################                                                  34.3%##########################                                                36.3%###########################                                               38.6%#############################                                             40.7%##############################                                            42.7%################################                                          44.9%#################################                                         46.9%###################################                                       49.1%####################################                                      51.2%######################################                                    53.3%#######################################                                   55.4%#########################################                                 57.5%##########################################                                59.7%############################################                              61.8%##############################################                            64.0%################################################                          66.7%#################################################                         68.6%###################################################                       71.4%####################################################                      73.3%######################################################                    75.5%########################################################                  78.0%#########################################################                 80.4%###########################################################               82.7%#############################################################             85.2%###############################################################           87.6%################################################################          90.1%##################################################################        92.7%####################################################################      95.5%######################################################################    98.1%######################################################################## 100.0%
######################################################################## 100.0%
##                                                                         3.1%####################################################                      73.4%#############################################################             85.7%##################################################################        91.8%######################################################################## 100.0%
##                                                                         3.8%##############                                                            20.6%###############################################                           65.9%######################################################################## 100.0%
                                                                           0.0%                                                                           0.3%#                                                                          1.9%#                                                                          2.6%##                                                                         3.5%###                                                                        4.3%###                                                                        5.3%####                                                                       6.2%#####                                                                      7.2%#####                                                                      8.2%######                                                                     9.2%#######                                                                   10.3%########                                                                  11.3%########                                                                  12.5%#########                                                                 13.5%##########                                                                14.7%###########                                                               15.9%############                                                              17.1%#############                                                             18.3%#############                                                             19.4%##############                                                            20.7%###############                                                           21.8%################                                                          23.1%#################                                                         24.4%##################                                                        25.5%###################                                                       26.7%####################                                                      27.9%####################                                                      29.0%#####################                                                     30.3%######################                                                    31.5%#######################                                                   32.6%########################                                                  33.9%#########################                                                 35.1%##########################                                                36.4%###########################                                               37.6%###########################                                               38.8%############################                                              40.1%#############################                                             41.4%##############################                                            42.7%###############################                                           44.0%################################                                          45.3%#################################                                         46.7%##################################                                        48.0%###################################                                       49.4%####################################                                      50.8%#####################################                                     52.2%######################################                                    53.7%#######################################                                   55.2%########################################                                  56.7%#########################################                                 58.2%###########################################                               59.8%############################################                              61.5%#############################################                             63.1%##############################################                            64.8%###############################################                           66.6%#################################################                         68.5%##################################################                        70.5%####################################################                      72.4%#####################################################                     74.6%#######################################################                   76.5%########################################################                  78.7%##########################################################                80.9%###########################################################               83.2%#############################################################             85.7%###############################################################           88.2%#################################################################         90.8%###################################################################       93.6%#####################################################################     96.4%#######################################################################   99.4%######################################################################## 100.0%
######################################################################## 100.0%
######################################################################## 100.0%
######################################################################## 100.0%
                                                                           1.0%###################                                                       26.9%####################                                                      27.8%######################################################################## 100.0%
############                                                              16.9%######################################################################## 100.0%
##                                                                         2.8%###############                                                           21.7%#####################                                                     29.2%##########################                                                37.3%#################################                                         46.4%#######################################                                   54.9%##############################################                            64.0%######################################################                    76.2%#############################################################             85.7%###################################################################       93.5%######################################################################## 100.0%
################################################                          68.0%######################################################################## 100.0%
####                                                                       6.2%#######################                                                   32.4%#################################                                         46.5%#############################################                             63.8%#########################################################                 79.9%######################################################################    97.7%######################################################################## 100.0%
############################                                              39.4%######################################################################## 100.0%
#######                                                                    9.7%###########                                                               15.8%#################                                                         24.1%#######################                                                   33.1%###############################                                           43.1%######################################                                    53.7%##############################################                            64.0%#####################################################                     74.8%#############################################################             86.0%######################################################################    97.7%######################################################################## 100.0%
                                                                           0.8%#                                                                          1.6%#                                                                          2.5%##                                                                         3.7%###                                                                        4.9%####                                                                       6.7%######                                                                     8.6%#######                                                                   10.7%#########                                                                 13.0%##########                                                                15.2%#############                                                             18.1%###############                                                           21.0%#################                                                         24.3%###################                                                       27.5%######################                                                    30.9%#########################                                                 34.8%###########################                                               38.7%##############################                                            42.9%##################################                                        47.3%#####################################                                     52.1%#########################################                                 57.0%############################################                              62.2%################################################                          67.7%####################################################                      73.3%#########################################################                 79.2%#############################################################             85.1%#################################################################         91.2%######################################################################    97.4%######################################################################## 100.0%
                                                                           0.3%                                                                           0.5%                                                                           0.8%                                                                           1.1%#                                                                          1.5%#                                                                          1.8%#                                                                          2.2%#                                                                          2.6%##                                                                         3.0%##                                                                         3.3%##                                                                         3.7%##                                                                         4.2%###                                                                        4.6%###                                                                        5.0%###                                                                        5.5%####                                                                       5.9%####                                                                       6.3%####                                                                       6.8%#####                                                                      7.3%#####                                                                      7.7%#####                                                                      8.1%######                                                                     8.5%######                                                                     9.0%######                                                                     9.4%#######                                                                    9.9%#######                                                                   10.3%#######                                                                   10.7%########                                                                  11.2%########                                                                  11.7%########                                                                  12.0%#########                                                                 12.5%#########                                                                 13.0%#########                                                                 13.4%#########                                                                 13.9%##########                                                                14.3%##########                                                                14.8%###########                                                               15.3%###########                                                               15.8%###########                                                               16.3%############                                                              16.8%############                                                              17.3%############                                                              17.8%#############                                                             18.3%#############                                                             18.8%#############                                                             19.3%##############                                                            19.9%##############                                                            20.4%###############                                                           21.0%###############                                                           21.6%###############                                                           22.2%################                                                          22.8%################                                                          23.4%#################                                                         24.0%#################                                                         24.6%##################                                                        25.4%##################                                                        25.9%###################                                                       26.7%###################                                                       27.4%####################                                                      28.1%####################                                                      28.9%#####################                                                     29.7%#####################                                                     30.5%######################                                                    31.4%#######################                                                   32.3%#######################                                                   33.2%########################                                                  34.1%#########################                                                 35.1%##########################                                                36.2%##########################                                                37.2%###########################                                               38.3%############################                                              39.4%#############################                                             40.6%##############################                                            41.8%##############################                                            43.0%###############################                                           44.2%################################                                          45.4%#################################                                         46.8%##################################                                        48.1%###################################                                       49.4%####################################                                      50.8%#####################################                                     52.2%######################################                                    53.7%#######################################                                   55.1%########################################                                  56.6%#########################################                                 58.1%##########################################                                59.6%############################################                              61.2%#############################################                             62.8%##############################################                            64.5%###############################################                           66.1%################################################                          67.7%##################################################                        69.4%###################################################                       71.2%####################################################                      73.1%#####################################################                     74.8%#######################################################                   76.7%########################################################                  78.6%#########################################################                 80.5%###########################################################               82.4%############################################################              84.4%##############################################################            86.4%###############################################################           88.5%#################################################################         90.6%##################################################################        92.7%####################################################################      94.9%#####################################################################     97.1%#######################################################################   99.5%######################################################################## 100.0%
##############################################                            63.9%######################################################################## 100.0%
###########                                                               16.1%######################################################################## 100.0%
                                                                           0.9%###                                                                        4.6%########                                                                  12.0%##############                                                            20.3%#####################                                                     29.2%############################                                              39.5%###################################                                       49.6%#########################################                                 57.7%#################################################                         68.6%########################################################                  77.9%##############################################################            87.2%#####################################################################     96.5%######################################################################## 100.0%
                                                                           0.1%                                                                           0.4%                                                                           0.5%                                                                           0.6%                                                                           0.8%                                                                           0.9%                                                                           1.1%                                                                           1.3%#                                                                          1.5%#                                                                          1.6%#                                                                          1.8%#                                                                          2.0%#                                                                          2.2%#                                                                          2.4%#                                                                          2.6%##                                                                         2.9%##                                                                         3.1%##                                                                         3.3%##                                                                         3.5%##                                                                         3.7%##                                                                         3.9%##                                                                         4.0%##                                                                         4.2%###                                                                        4.4%###                                                                        4.6%###                                                                        4.6%###                                                                        4.8%###                                                                        5.0%###                                                                        5.3%###                                                                        5.5%####                                                                       5.7%####                                                                       5.9%####                                                                       6.1%####                                                                       6.4%####                                                                       6.6%####                                                                       6.8%#####                                                                      7.0%#####                                                                      7.3%#####                                                                      7.5%#####                                                                      7.7%#####                                                                      8.0%#####                                                                      8.2%######                                                                     8.5%######                                                                     8.7%######                                                                     9.0%######                                                                     9.2%######                                                                     9.5%#######                                                                    9.7%#######                                                                   10.0%#######                                                                   10.3%#######                                                                   10.6%#######                                                                   10.9%########                                                                  11.2%########                                                                  11.5%########                                                                  11.8%########                                                                  12.1%########                                                                  12.4%#########                                                                 12.7%#########                                                                 13.1%#########                                                                 13.4%#########                                                                 13.8%##########                                                                14.2%##########                                                                14.6%##########                                                                15.0%###########                                                               15.4%###########                                                               15.8%###########                                                               16.3%############                                                              16.7%############                                                              17.2%############                                                              17.7%#############                                                             18.2%#############                                                             18.8%#############                                                             19.4%##############                                                            20.0%##############                                                            20.6%###############                                                           21.2%###############                                                           21.9%################                                                          22.5%################                                                          23.2%#################                                                         24.0%#################                                                         24.7%##################                                                        25.6%###################                                                       26.4%###################                                                       27.3%####################                                                      28.2%####################                                                      29.1%#####################                                                     30.0%######################                                                    31.0%#######################                                                   32.0%#######################                                                   33.0%########################                                                  34.1%#########################                                                 35.1%##########################                                                36.2%##########################                                                37.4%###########################                                               38.5%############################                                              39.7%############################                                              40.0%#############################                                             41.0%##############################                                            42.2%###############################                                           43.5%###############################                                           43.9%################################                                          45.0%#################################                                         46.3%##################################                                        47.7%##################################                                        48.1%###################################                                       49.5%####################################                                      50.7%#####################################                                     52.2%#####################################                                     52.6%#######################################                                   54.2%########################################                                  55.8%#########################################                                 57.1%##########################################                                58.6%##########################################                                59.3%###########################################                               61.0%#############################################                             62.7%##############################################                            64.5%###############################################                           66.3%#################################################                         68.2%##################################################                        70.1%###################################################                       72.0%#####################################################                     74.0%######################################################                    76.0%#######################################################                   77.4%########################################################                  79.0%#########################################################                 80.1%###########################################################               82.3%############################################################              83.8%#############################################################             85.9%##############################################################            86.7%################################################################          89.0%#################################################################         91.3%###################################################################       93.6%#####################################################################     96.0%######################################################################    98.4%######################################################################## 100.0%
######################################################################## 100.0%
#####################################                                     52.7%#######################################                                   54.9%######################################################################## 100.0%
########################                                                  33.8%######################################################################## 100.0%
##                                                                         3.1%############                                                              17.1%##################                                                        25.4%########################                                                  34.2%##############################                                            42.7%####################################                                      51.3%###########################################                               60.8%##################################################                        69.9%#########################################################                 79.7%################################################################          90.3%#######################################################################   99.6%######################################################################## 100.0%
configure: Extracting Windows toolchain from archives (may take a while)...
configure: In-tree MingW-w64 tree created
checking for genlib... no
checking for -windres... no
checking for -dllwrap... no
checking for -objdump... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/objdump.exe
checking whether the C compiler works... yes
checking for C compiler default output file name... a.exe
checking for suffix of executables... .exe
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe accepts -g... yes
checking for C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe option to accept ISO C89... none needed
checking how to run the C preprocessor... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe -E
checking for grep that handles long lines and -e... /usr/bin/grep
checking for egrep... /usr/bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking minix/config.h usability... no
checking minix/config.h presence... no
checking for minix/config.h... no
checking whether it is safe to define __EXTENSIONS__... yes
checking how to run the C preprocessor... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe -E
checking for C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe option to accept ISO C99... none needed
checking for C:\\ghc-dev\\msys64\\mingw64\\lib/../mingw/bin/gcc.exe option to accept ISO C99... none needed
checking for C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe option to accept ISO C99... none needed
checking for C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/gcc.exe option to accept ISO C99... none needed
checking for -ld... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ld.exe
checking whether ld is GNU ld... YES
checking whether ld understands --build-id... yes
checking whether ld understands -no_compact_unwind... yes
checking whether ld understands -filelist... no
checking for -objdump... (cached) C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/objdump.exe
checking for ranlib... C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ranlib.exe
checking for -strip... no
checking for libtool... /usr/bin/libtool
checking for -clang... no
checking for llc-7.0... no
checking for llc... no
checking for opt-7.0... no
checking for opt... no
configure: Creating links for in-tree file handling routines.
configure: Routines in place. Packages can now be build normally.
checking whether #! works in shell scripts... yes
checking version of gcc... 7.2.0
checking whether GCC supports -no-pie... yes
checking whether GCC supports __atomic_ builtins... yes
checking for extra options to pass gcc when compiling via C...  -fwrapv -fno-builtin
checking whether C compiler is clang... no
checking whether C compiler has an LLVM back end... no
checking Setting up CFLAGS, LDFLAGS, IGNORE_LINKER_LD_FLAGS and CPPFLAGS... done
checking Setting up CONF_CC_OPTS_STAGE0, CONF_GCC_LINKER_OPTS_STAGE0, CONF_LD_LINKER_OPTS_STAGE0 and CONF_CPP_OPTS_STAGE0... done
checking Setting up CONF_CC_OPTS_STAGE1, CONF_GCC_LINKER_OPTS_STAGE1, CONF_LD_LINKER_OPTS_STAGE1 and CONF_CPP_OPTS_STAGE1... done
checking Setting up CONF_CC_OPTS_STAGE2, CONF_GCC_LINKER_OPTS_STAGE2, CONF_LD_LINKER_OPTS_STAGE2 and CONF_CPP_OPTS_STAGE2... done
checking for .subsections_via_symbols... no
checking whether your assembler supports .ident directive... yes
checking for GNU non-executable stack support... no
checking for a working context diff... diff -U 1
checking for a BSD-compatible install... /usr/bin/install -c
checking whether C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ar.exe is GNU ar... yes
checking for ar arguments... q
checking whether C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ar.exe supports @file... yes
checking for ranlib... (cached) C:/TeamCity/buildAgent/work/a45bb99c6f82efd7/inplace/mingw/bin/ranlib.exe
checking whether ln -s works... no, using cp -pR
checking for gsed... no
checking for sed... /usr/bin/sed
checking for time... /usr/bin/time
checking for gnutar... no
checking for gtar... no
checking for tar... /usr/bin/tar
checking for bzip2... /mingw64/bin/bzip2
checking for gzip... /usr/bin/gzip
checking for pxz... no
checking for xz... /mingw64/bin/xz
checking for gpatch... no
checking for patch... /usr/bin/patch
checking for autoreconf... /usr/bin/autoreconf
checking for dtrace... no
checking for HsColour... /usr/local/bin/HsColour
checking for sphinx-build... /mingw64/bin/sphinx-build
checking for version of sphinx-build... Sphinx (sphinx-build) 1.5
./configure: line 11214: test: Sphinx (sphinx-build) 1: integer expression expected
checking for xelatex... no
checking for ghc-pkg matching /mingw64/bin/ghc... /mingw64/bin/ghc-pkg
checking for happy... /usr/local/bin/happy
checking for version of happy... 1.19.5
configure: error: Happy version 1.19.10 or later is required to compile GHC.
